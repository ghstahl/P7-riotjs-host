{"version":3,"sources":["webpack:///webpack/bootstrap c84143064bec428fb6d8","webpack:///external \"riot\"","webpack:///./plugins/download_manager/route-contributer.js","webpack:///./plugins/download_manager/stores/download-manager-store.js","webpack:///./plugins/download_manager/css/index.css","webpack:///./plugins/download_manager/index.js","webpack:///./plugins/download_manager/pages/home.tag","webpack:///./plugins/download_manager/pages/typicode-user-detail.tag"],"names":["RouteContributer","self","riot","observable","name","_initializeViewSet","initialize","_viewsSet","Set","s","add","views","Array","from","defaultRoute","uninitialize","contributeRoutes","r","console","log","EVT","router","out","control","trigger","routeStore","in","riotRouteLoadView","view","indexOf","routeDispatch","userCache","Constants","NAME","NAMESPACE","WELLKNOWN_EVENTS","downloadManagerFetchResult","downloadManagerFetch","typicodeUserFetch","downloadManagerChanged","typicodeUserChanged","window","P7HostCore","DeepFreeze","freeze","DownloadManagerStore","downloadManagerStore","fetchException","riotHandlers","event","handler","_onDownloadManagerFetch","_onDownloadManagerFetchResult","bindEvents","state","downloadManagerState","query","url","myAck","evt","fetchStore","fetch","result","ack","error","response","ok","json","data","forEach","element","_onTypicodeUserFetch","typicodeUserStore","restoredSession","JSON","parse","localStorage","getItem","blah","Cookies","get","id","parseInt","filter","obj","found","length","myQuery","type","typicodeUsersFetch","_resetData","StoreBase","rcs","registerRecord","stores","store","registrants","routeContributer","postLoadEvents","RandomString","randomString","hash","randomHash","require","tag2","opts","results","resetData","on","onDownloadManagerChanged","off","update","route","item","onUserChanged","user","q"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c84143064bec428fb6d8","module.exports = riot;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"riot\"\n// module id = 0\n// module chunks = 0","import './pages/typicode-user-detail.tag';\r\nimport './pages/home.tag';\r\n\r\nexport default class RouteContributer {\r\n\r\n  constructor() {\r\n    var self = this;\r\n\r\n    riot.observable(self);\r\n    self.name = 'RouteContributer';\r\n    self._initializeViewSet();\r\n\r\n    this.initialize();\r\n  }\r\n\r\n  _initializeViewSet() {\r\n    var self = this;\r\n\r\n    self._viewsSet = new Set();\r\n    let s = self._viewsSet;\r\n\r\n    s.add('home');\r\n    s.add('typicode-user-detail');\r\n    self.views = Array.from(s);\r\n    self.defaultRoute = '/download-manager/home';\r\n  }\r\n  uninitialize() {\r\n\r\n  }\r\n  initialize() {\r\n\r\n  }\r\n  contributeRoutes(r) {\r\n    var self = this;\r\n\r\n    console.log(self.name, riot.EVT.router.out.contributeRoutes, r);\r\n    r('/download-manager/download-detail?id=*', ()=>{\r\n      console.log('route handler of /download-manager/download-detail');\r\n      riot.control.trigger(riot.EVT.routeStore.in.riotRouteLoadView, 'mpc-typicode-user-detail');\r\n    });\r\n\r\n    r('/download-manager/*', (name)=>{\r\n      console.log('route handler of /download-manager/' + name);\r\n      let view = name;\r\n\r\n      if (self.views.indexOf(view) === -1) {\r\n        riot.control.trigger(riot.EVT.routeStore.in.routeDispatch, self.defaultRoute);\r\n      } else {\r\n        riot.control.trigger(riot.EVT.routeStore.in.riotRouteLoadView, 'download-manager-' + view);\r\n      }\r\n    });\r\n    r('/download-manager..', ()=>{\r\n      console.log('route handler of /download-manager..');\r\n      riot.control.trigger(riot.EVT.routeStore.in.routeDispatch, self.defaultRoute);\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/download_manager/route-contributer.js","\r\nconst userCache = 'typicodeUserCache';\r\n\r\nclass Constants {}\r\nConstants.NAME = 'download-manager-store';\r\nConstants.NAMESPACE = Constants.NAME + ':';\r\nConstants.WELLKNOWN_EVENTS = {\r\n  in: {\r\n    downloadManagerFetchResult: 'download-manager-fetch-result',\r\n    downloadManagerFetch: 'download-manager-fetch',\r\n    typicodeUserFetch: 'download-manager-fetch'\r\n  },\r\n  out: {\r\n    downloadManagerChanged: 'download-managers-changed',\r\n    typicodeUserChanged: 'download-manager-changed'\r\n  }\r\n};\r\nwindow.P7HostCore.DeepFreeze.freeze(Constants);\r\n\r\nexport default class DownloadManagerStore extends window.P7HostCore.StoreBase {\r\n\r\n  constructor() {\r\n    super();\r\n    riot.observable(this); // Riot provides our event emitter.\r\n    this.name = 'TypicodeUserStore';\r\n    riot.EVT.downloadManagerStore = Constants.WELLKNOWN_EVENTS;\r\n    this.fetchException = null;\r\n    this.riotHandlers = [\r\n      {event: Constants.WELLKNOWN_EVENTS.in.downloadManagerFetch, handler: this._onDownloadManagerFetch},\r\n      {event: Constants.WELLKNOWN_EVENTS.in.downloadManagerFetchResult, handler: this._onDownloadManagerFetchResult}\r\n    ];\r\n    this.bindEvents();\r\n\r\n    riot.state.downloadManagerState = {};\r\n    this.state = riot.state.downloadManagerState;\r\n  }\r\n\r\n  static get constants() {\r\n    return Constants;\r\n  }\r\n  _onDownloadManagerFetch(query) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.downloadManagerFetch);\r\n    let url = 'download-manager.json';\r\n    let myAck = {\r\n      evt: Constants.WELLKNOWN_EVENTS.in.downloadManagerFetchResult\r\n    };\r\n\r\n    if (query) {\r\n      myAck.query = query;\r\n    }\r\n\r\n    riot.control.trigger(riot.EVT.fetchStore.in.fetch, url, null, myAck);\r\n  }\r\n  _onDownloadManagerFetchResult(result, ack) {\r\n    console.log(Constants.WELLKNOWN_EVENTS.in.downloadManagerFetchResult, result, ack);\r\n    if (result.error == null && result.response.ok && result.json) {\r\n          // good\r\n      let data = result.json;\r\n\r\n      this.state.data = data;\r\n      let url = 'local://download/init-download';\r\n\r\n      data.forEach(function (element) {\r\n        riot.control.trigger(riot.EVT.fetchStore.in.fetch, url, element, null);\r\n      });\r\n\r\n      this.trigger(Constants.WELLKNOWN_EVENTS.out.downloadManagerChanged);\r\n\r\n    } else {\r\n      this.state.data = [];\r\n    }\r\n  }\r\n  _onTypicodeUserFetch(query) {\r\n    console.log(riot.EVT.typicodeUserStore.in.typicodeUserFetch);\r\n    let restoredSession = JSON.parse(localStorage.getItem(userCache));\r\n    let blah = riot.Cookies.get('blah-blah-blah');\r\n    let id = parseInt(query.id, 10);  // query.id is a string\r\n\r\n    if (restoredSession) {\r\n      let result = restoredSession.filter(function (obj) {\r\n        let found = obj.id === id;\r\n\r\n        return found;\r\n      });\r\n\r\n      if (result && result.length > 0) {\r\n        this.trigger(riot.EVT.typicodeUserStore.out.typicodeUserChanged, result[0]);\r\n      }\r\n    } else {\r\n            // need to fetch.\r\n      let myQuery = {\r\n        type: 'riotControlTrigger',\r\n        evt: riot.EVT.typicodeUserStore.in.typicodeUserFetch,\r\n        query: query,\r\n        blah: blah\r\n      };\r\n\r\n      riot.control.trigger(riot.EVT.typicodeUserStore.in.typicodeUsersFetch, myQuery);\r\n    }\r\n  }\r\n  /**\r\n     * Reset tag attributes to hide the errors and cleaning the results list\r\n     */\r\n  _resetData() {\r\n    this.fetchException = null;\r\n  };\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/download_manager/stores/download-manager-store.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./plugins/download_manager/css/index.css\n// module id = 3\n// module chunks = 0","import 'riot';\r\nimport './css/index.css';\r\nimport DownloadManagerStore \t\t\tfrom \t'./stores/download-manager-store.js';\r\nimport RouteContributer \t\tfrom \t'./route-contributer.js';\r\n\r\nlet rcs = new RouteContributer();\r\nlet registerRecord = {\r\n  name: 'download-manager',\r\n  stores: [\r\n\t\t{store: new DownloadManagerStore()}\r\n  ],\r\n  registrants: {\r\n    routeContributer: rcs\r\n  },\r\n  postLoadEvents: [\r\n\t\t{event: 'download-manager-init', data: {}}\r\n  ]\r\n};\r\n\r\nif (window.RandomString) {\r\n  let randomString = new window.RandomString();\r\n  let hash = randomString.randomHash();\r\n\r\n  window.hash = hash;\r\n}\r\n\r\nriot.control.trigger('plugin-registration', registerRecord);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./plugins/download_manager/index.js","\n    var riot = require('riot')\n    riot.tag2('download-manager-home', '<div class=\"panel panel-default\"> <div class=\"panel-heading\">Download Manager</div> <div class=\"panel-body\"> <div class=\"well\"> This pulls download from /download-manager.json </div> <table if=\"{state.data}\" class=\"table table-striped table-hover \"> <thead> <tr> <th>File</th> <th>link</th> </tr> </thead> <tbody> <tr each=\"{state.data}\"> <td>{this.FileName}</td> <td> <a href=\"{this.Url}\" download=\"{this.FileName}\">Download</a></td> </tr> </tbody> </table> </div> </div>', '', '', function(opts) {\n\tvar self = this;\n\tself.error = false;\n\tself.state = riot.state.downloadManagerState;\n  self.results = [];\n\n  self.resetData = function() {\n    self.results = [];\n    self.error = false;\n  }\n\n\tself.on('mount', () => {\n      console.log('typicode-users mount')\n      riot.control.on(riot.EVT.downloadManagerStore.out.downloadManagerChanged,self.onDownloadManagerChanged);\n      riot.control.trigger(riot.EVT.downloadManagerStore.in.downloadManagerFetch);\n    });\n    self.on('unmount', () => {\n      console.log('typicode-users unmount')\n      riot.control.off(riot.EVT.downloadManagerStore.out.downloadManagerChanged,self.onDownloadManagerChanged);\n    });\n\tself.onDownloadManagerChanged = (result) =>{\n       console.log(riot.EVT.downloadManagerStore.out.downloadManagerChanged);\n       self.update();\n    }\n  self.route = (evt) => {\n\t\triot.control.trigger('riot-route-dispatch',\n\t\t'my-component-page/typicode-user-detail?id='+evt.item.id);\n\t  };\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./plugins/download_manager/pages/home.tag","\n    var riot = require('riot')\n    riot.tag2('mpc-typicode-user-detail', '<div if=\"{result != null}\" class=\"panel panel-default\"> <div class=\"panel-heading\"> <h3 class=\"panel-title\">{result.name}</h3> </div> <div class=\"panel-body\"> <form class=\"form-horizontal\"> <fieldset> <legend>User Details</legend> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Name</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.name}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Email</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.email}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Phone</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.phone}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">User Name</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.username}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Web Site</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.website}</p> </div> </div> </fieldset> </form> <form class=\"form-horizontal\"> <fieldset> <legend>Address</legend> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Suite</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.address.suite}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Street</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.address.street}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">City</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.address.city}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Zip Code</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.address.zipcode}</p> </div> </div> </fieldset> </form> <form class=\"form-horizontal\"> <fieldset> <legend>Company</legend> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Name</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.company.name}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Catch Phrase</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.company.catchPhrase}</p> </div> </div> <div class=\"form-group\"> <label class=\"col-sm-2 control-label\">Business Statement</label> <div class=\"col-sm-10\"> <p class=\"form-control-static\">{result.company.bs}</p> </div> </div> </fieldset> </form> </div> </div>', '', '', function(opts) {\n    var self = this;\n\n    self.result = null;\n    self.onUserChanged = (user) => {\n        self.result = user;\n        console.log(self.result);\n        self.update();\n    }\n\n    self.on('mount', function() {\n        var q = riot.route.query();\n        console.log('on mount: typicode-user-detail',q);\n        riot.control.on(riot.EVT.typicodeUserStore.out.typicodeUserChanged, self.onUserChanged);\n\n        riot.control.trigger(riot.EVT.typicodeUserStore.in.typicodeUserFetch, { id: q.id });\n    });\n\n    self.on('unmount', function() {\n        console.log('on unmount:');\n        riot.control.off(riot.EVT.typicodeUserStore.out.typicodeUserChanged, self.onUserChanged);\n    });\n\n});\n    \n  \n\n\n// WEBPACK FOOTER //\n// ./plugins/download_manager/pages/typicode-user-detail.tag"],"sourceRoot":""}